<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Inovus New Year Card</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/dom-to-image-more@3.3.0/dist/dom-to-image-more.min.js"></script>

    <style>
        :root {
            --bg: #020617;
            --gold: #fbbf24;
            --gold-dark: #b45309;
            --muted: #94a3b8;
            --preview-scale: 0.35;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; 
            background: #0f172a; 
            font-family: 'Inter', sans-serif;
            color: #fff; 
            min-height: 100vh; 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            padding: 20px;
        }

        /* --- CONTROLS --- */
        .controls-section {
            background: #1e293b; 
            padding: 24px; 
            border-radius: 16px;
            display: flex; 
            flex-wrap: wrap; 
            gap: 20px; width: 100%;
            max-width: 900px; 
            justify-content: center; 
            align-items: flex-end;
            margin-bottom: 30px; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .input-group { 
          display: flex; 
          flex-direction: column; 
          gap: 8px; 
          flex: 1; 
          min-width: 200px; 
        }

        .input-group label { font-size: 12px; 
          color: var(--gold); 
          font-weight: 800; 
          letter-spacing: 1px; 
        }

        .input-group input {
            padding: 12px; 
            border-radius: 8px; 
            border: 1px solid #334155;
            background: #020617; color: #fff; outline: none;
        }

        /* Mode Toggle */
        .toggle-container { 
          display: flex; 
          flex-direction: column; 
          gap: 8px; 
        }

        .mode-toggle { 
          display: flex; 
          background: #020617; 
          border-radius: 8px; 
          padding: 4px; 
          border: 1px solid #334155; 
        }
        .mode-toggle button {
            background: transparent; 
            border: none; 
            color: #fff; 
            padding: 10px 18px;
            cursor: pointer; 
            border-radius: 6px; 
            font-weight: 700; 
            transition: 0.2s;
        }
        .mode-toggle button.active { 
          background: var(--gold); 
          color: #000; 
        }

        .download-btn {
            padding: 12px 24px; 
            background: #fff; 
            border: none; 
            border-radius: 8px;
            font-weight: 900; 
            cursor: pointer; 
            color: #000; 
            height: 46px;
        }

        /* --- PREVIEW SYSTEM --- */
        #preview-wrapper {
            width: 100%; display: flex; justify-content: center; overflow: hidden;
            background: rgba(0,0,0,0.2); border-radius: 12px; padding: 40px 0;
        }

        /* --- THE CARD CANVAS --- */
        #capture-area {
            background: radial-gradient(circle at 0% 0%, rgba(251,191,36,.15), transparent 40%), var(--bg);
            position: relative; 
            transform-origin: top center; 
            flex-shrink: 0;
            overflow: hidden;
        }

        #capture-area::after {
            content: ""; 
            position: absolute; 
            inset: 0;
            background-image: radial-gradient(rgba(255,255,255,.05) 1px, transparent 1px);
            background-size: 28px 28px; 
            pointer-events: none;
        }

        /* --- LANDSCAPE LAYOUT --- */
        #capture-area.landscape {
            width: 1920px; 
            height: 1080px; 
            padding: 70px 90px;
            display: grid; 
            grid-template-columns: 1fr 2px 1.1fr 2px 1fr; 
            gap: 50px;
        }
        .landscape .divider { 
          height: 50rem;
          background: linear-gradient(to bottom, transparent, rgba(251,191,36,.35), transparent); 
        }

        .landscape .left, 
        .landscape .center, 
        .landscape .right { 
          display: flex; 
          flex-direction: column; 
          justify-content: center; 
          align-items: center; 
        }

        /* --- PORTRAIT LAYOUT --- */
        #capture-area.portrait {
          width: 1080px; height: 1920px; padding: 100px 80px;
          display: flex; 
          flex-direction: column; 
          align-items: center; 
          justify-content: space-evenly; 
          text-align: center;
        }
        .portrait .divider {
          height: 2px; 
          width: 60%; 
          background: linear-gradient(to right, transparent, rgba(251,191,36,.35), transparent); 
        }
        .portrait .left h1 { 
          font-size: 100px; 
        }
        .portrait .left p { 
            max-width: 800px;  
        }
        .portrait .year { 
          font-size: 320px; 
        }
        .portrait .commit { 
          border-left: none; 
          border-top: 8px solid var(--gold); 
          width: 550px;
          text-align: left; 
        }

        .landscape .left p{
          margin: 20px 0 0 0;
        }
        
        /* Shared Element Styling */
        .left small { 
          letter-spacing: 5px; 
          color: var(--gold); 
          font-weight: 800; 
          font-size: 18px; 
          white-space: nowrap;
        }
        .left h1 { 
          font-size: 70px; 
          font-weight: 900; 
          line-height: 1.1; 
          margin: 20px 0; 
          white-space: nowrap;
        }
        .left h1 span { 
          color: var(--gold); 
        }
        .left p { 
          font-size: 26px; 
          line-height: 1.6; 
          color: var(--muted); 
          margin: 20px 0 0 0;
          /* white-space: nowrap; */
        }

        .year {
            font-size: 240px; 
            font-weight: 900; 
            line-height: 1;
            background: linear-gradient(180deg, var(--gold), var(--gold-dark));
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent;
        }
        .name { 
          margin-top: 20px; 
          font-size: 48px; 
          font-weight: 800; 
          text-transform: uppercase; 
        }
        .identity { 
          margin-top: 10px; 
          font-size: 16px; 
          letter-spacing: 6px; 
          color: var(--muted); 
          white-space: nowrap;
        }

        .commit { background: rgba(255,255,255,.05); 
          padding: 45px; 
          border-left: 8px solid var(--gold); 
        }
        .commit h2 { 
          font-size: 40px; 
          font-weight: 900; 
          margin: 0 0 30px 0; 
        }
        .commit ul { 
          list-style: none; 
          padding: 0; 
          margin: 0; 
        }
        .commit li { 
          font-size: 28px; 
          margin-bottom: 20px; 
          display: flex; 
          align-items: flex-start; }
        .commit li span { 
          color: var(--gold); 
          font-weight: 900; 
          margin-right: 15px; 
        }
        #customCommit {
          white-space: nowrap;
        }

        /* .commit li span:last-child {
          flex: 1;
          overflow-wrap: break-word;
        } */

        .footer {
            position: absolute; bottom: 50px; left: 90px; right: 90px;
            display: flex; justify-content: space-between; align-items: center;
            border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px;
        }

        @media (max-width: 700px) {
            .controls-section { flex-direction: column; align-items: stretch; }
            .mode-toggle button { flex: 1; }
        }
    </style>
</head>
<body>

    <div class="controls-section">
        <div class="toggle-container">
            <label>LAYOUT MODE</label>
            <div class="mode-toggle">
                <button id="btnLandscape" class="active" onclick="setMode('landscape')">Landscape</button>
                <button id="btnPortrait" onclick="setMode('portrait')">Portrait</button>
            </div>
        </div>

        <div class="input-group">
            <label>NAME</label>
            <input id="nameInput" placeholder="Fellow" maxlength="25">
        </div>

        <div class="input-group">
            <label>YOUR 2026 COMMITMENT</label>
            <input id="commitInput" placeholder="Start — no excuses" maxlength="50">
        </div>

        <button class="download-btn" onclick="downloadCard()">DOWNLOAD PNG</button>
    </div>

    <div id="preview-wrapper">
        <div id="capture-area" class="landscape">
            <div class="left">
                <small>NEW YEAR WISH</small>
                <h1>New Year.<br>New <span>Intent.</span></h1>
                <p>Not just another year, but a decision to grow, build, and begin — intentionally.</p>
            </div>

            <div class="divider"></div>

            <div class="center">
                <div class="year">2026</div>
                <div id="displayName" class="name">Fellow</div>
                <div class="identity">INOVUS LABS IEDC</div>
            </div>

            <div class="divider"></div>

            <div class="right">
                <div class="commit">
                  <p style="color: var(--gold);"> <strong> PERSONAL COMMITMENT </strong></p>
                    <h2>This year, I commit to:</h2>
                    <ul>
                        <li><span>→</span> Learn with curiosity</li>
                        <li><span>→</span> Build with courage</li>
                        <li><span>→</span> <span id="customCommit">Start — no excuses</span></li>
                    </ul>
                </div>
            </div>

            <div class="footer">
                <div><img src="logo%20white.png" alt="Inovus Labs" height="60px"></div>
                <div style="font-size: 20px; color: var(--muted); font-weight: 600;">@inovuslabs</div>
            </div>
        </div>
    </div>

    <script>
        let currentMode = 'landscape';
        const captureArea = document.getElementById("capture-area");
        const wrapper = document.getElementById("preview-wrapper");
        const displayName = document.getElementById("displayName");
        const customCommit = document.getElementById("customCommit");

        function setMode(mode) {
            currentMode = mode;
            captureArea.className = mode;
            document.getElementById('btnLandscape').classList.toggle('active', mode === 'landscape');
            document.getElementById('btnPortrait').classList.toggle('active', mode === 'portrait');
            handleResize();
        }

        function handleResize() {
            const availableWidth = wrapper.offsetWidth - 40;
            const designWidth = currentMode === 'landscape' ? 1920 : 1080;
            const designHeight = currentMode === 'landscape' ? 1080 : 1920;
            
            const scale = availableWidth / designWidth;
            const finalScale = scale > 0.8 ? 0.4 : scale; // Avoid being too huge on desktop

            captureArea.style.transform = `scale(${finalScale})`;
            wrapper.style.height = (designHeight * finalScale + 40) + "px";
        }

        window.addEventListener('resize', handleResize);
        window.addEventListener('load', handleResize);
        handleResize();

        document.getElementById("nameInput").oninput = e => {
            displayName.textContent = e.target.value || "Fellow";
        };
        document.getElementById("commitInput").oninput = e => {
            customCommit.textContent = e.target.value || "Start — no excuses";
        };

        async function downloadCard() {
            const btn = document.querySelector('.download-btn');
            btn.innerText = "GENERATING...";
            btn.disabled = true;

            await document.fonts.ready;
            
            const width = currentMode === 'landscape' ? 1920 : 1080;
            const height = currentMode === 'landscape' ? 1080 : 1920;

            domtoimage.toPng(captureArea, {
                width: width,
                height: height,
                style: { transform: 'scale(1)', left: '0', top: '0' }
            }).then(url => {
                const a = document.createElement("a");
                a.href = url;
                a.download = `Inovus_2026_${currentMode}_${displayName.textContent}.png`;
                a.click();
                btn.innerText = "DOWNLOAD PNG";
                btn.disabled = false;
            }).catch(err => {
                alert("Capture failed. Try a modern desktop browser.");
                btn.disabled = false;
            });
        }
    </script>
</body>
</html>